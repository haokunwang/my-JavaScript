<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delay函数</title>
</head>
<body>
    <script>
    function easyDelay(num){
        var time=new Date();
        time=time.getTime();
        newTime=time+num;
        while(1){
            time=new Date();
            if(time.getTime()>=newTime){
                return ;
            }
        }
    }
    function fn_a(){
        console.log(1);
    }
    function fn_b(){
        console.log(2);
    }
    function fn_c(){
        console.log(3);
    }
    function fn_d(){
        console.log(4);
    }
    var opts=[
        {fun:fn_a,
        seconds:2300
        },
        {fun:fn_b,
        seconds:500
        },
        {fun:fn_c,
        seconds:2200
        },
        {fun:fn_d,
        seconds:1000
        }
       ];

    function HardDelay(opts){
        var i=0;var len=opts.length;
        function run(opt){
            if(i==len){
                return
            }
            setTimeout(function(){
            opt[i].fun();
            i++;
            run(opts);               
            },opt[i].seconds)
        }
        run(opts);
    }
    HardDelay(opts);
    

    </script>
</body>
</html>